<form [formGroup]="widgetForm">
  <ion-row class="ion-padding-horizontal padding-top ion-align-items-center value__container">
    <ion-col size="9" class="value--container__input ion-no-padding">
      <ion-item class="ion-no-padding" lines="none">
        <ion-label color="blackLight" class="ion-no-margin" position="stacked">{{ widget.label }}</ion-label>
        <ion-input [type]="widget.inputType" [placeholder]="widget.placeholder" [formControlName]="widget.controlName"></ion-input>
      </ion-item>
      <ion-text class="ion-no-margin" color="blackLight" *ngIf="widget.extraLabel || widget.createExtraLabel">
        <p class="ion-no-margin">{{ widget.extraLabel || widget.createExtraLabel(widget.value) }}</p>
      </ion-text>
      <ion-text class="ion-no-margin" color="blackLight" *ngIf="widget.extraLabelHtml || widget.createExtraLabelHtml">
        <p class="ion-no-margin" [innerHtml]="widget.extraLabelHtml || widget.createExtraLabelHtml(widget.value)"></p>
      </ion-text>
    </ion-col>
    <ion-col size="3" class="ion-no-padding" *ngIf="widget.fixedValue || widget.getFixedValue">
      <ion-toolbar>
        <ion-buttons slot="end">
          <ion-button
            shape="round"
            [fill]="widget.isValueFixed ? 'solid' : 'outline'"
            size="small"
            color="secondary"
            (click)="widget.toggleValue()"
          >
            {{ widget.toggleFixedValueButton }}
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-col>
  </ion-row>
  <ion-row class="ion-padding-horizontal ion-padding-bottom" *ngIf="widgetForm">
    <ion-col size="12" *ngIf="!widgetForm.controls[widget.id].valid">
      <ion-text class="ion-no-margin" color="danger">
        <p class="ion-no-margin">{{ widget.error }}</p>
      </ion-text>
    </ion-col>
  </ion-row>
</form>
